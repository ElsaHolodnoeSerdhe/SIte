<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>РП Бот - Полное руководство</title>
    <style>
    /* Стили для системы уведомлений */
    .notification-btn {
        position: fixed;
        bottom: 140px;
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--primary);
        color: white;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        z-index: 90;
        transition: all 0.3s;
    }
    
    .notification-btn:hover {
        transform: scale(1.1);
    }
    
    .notification-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: var(--danger);
        color: white;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: bold;
    }
    
    .notification-menu {
        position: fixed;
        bottom: 200px;
        right: 20px;
        width: 300px;
        max-height: 400px;
        background: var(--card-bg);
        border-radius: 12px;
        box-shadow: var(--card-shadow);
        z-index: 1000;
        overflow: hidden;
        transform: scale(0);
        transform-origin: bottom right;
        transition: transform 0.3s;
        display: flex;
        flex-direction: column;
    }
    
    .notification-menu.active {
        transform: scale(1);
    }
    
    .notification-header {
        padding: 1rem;
        background: var(--primary);
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .notification-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
    }
    
    .notification-body {
        flex: 1;
        overflow-y: auto;
        padding: 0.5rem;
    }
    
    .notification-item {
        padding: 0.8rem;
        margin-bottom: 0.5rem;
        border-radius: 8px;
        background: var(--light);
        transition: all 0.2s;
        cursor: pointer;
    }
    
    .dark-mode .notification-item {
        background: rgba(255,255,255,0.05);
    }
    
    .notification-item:hover {
        background: rgba(81, 129, 184, 0.1);
    }
    
    .notification-item.unread {
        background: rgba(81, 129, 184, 0.15);
    }
    
    .notification-title {
        font-weight: 600;
        margin-bottom: 0.3rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .notification-text {
        font-size: 0.9rem;
        opacity: 0.9;
    }
    
    .notification-time {
        font-size: 0.7rem;
        opacity: 0.7;
        margin-top: 0.3rem;
        text-align: right;
    }
    
    .notification-empty {
        padding: 2rem;
        text-align: center;
        color: var(--text-color);
        opacity: 0.7;
        font-size: 0.9rem;
    }
    
    .notification-clear {
        padding: 0.8rem;
        text-align: center;
        background: var(--light);
        color: var(--primary);
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .dark-mode .notification-clear {
        background: rgba(255,255,255,0.1);
    }
    
    .notification-clear:hover {
        background: rgba(81, 129, 184, 0.2);
    }
    
    @media (max-width: 768px) {
        .notification-btn {
            bottom: 135px;
            width: 45px;
            height: 45px;
        }
        
        .notification-menu {
            bottom: 190px;
            right: 15px;
            width: 280px;
            max-height: 350px;
        }
    }
</style>
    <style>
        :root {
            --primary: #5181B8;
            --secondary: #5E81A8;
            --telegram: #2AABEE;
            --dark: #22313F;
            --light: #F9F9F9;
            --text: #222222;
            --success: #4BB34B;
            --warning: #FFA000;
            --info: #2196F3;
            --danger: #E53935;
            
            --bg-color: #F9F9F9;
            --text-color: #222222;
            --card-bg: #FFFFFF;
            --card-shadow: 0 2px 8px rgba(0,0,0,0.05);
            --border-color: #eee;
        }
        
        .dark-mode {
            --primary: #6B9BD2;
            --secondary: #7A9FC8;
            --telegram: #2AABEE;
            --dark: #E0E0E0;
            --light: #1E1E1E;
            --text: #E0E0E0;
            --success: #5CC35C;
            --warning: #FFB740;
            --info: #42A5F5;
            --danger: #EF5350;
            
            --bg-color: #121212;
            --text-color: #E0E0E0;
            --card-bg: #1E1E1E;
            --card-shadow: 0 2px 8px rgba(0,0,0,0.3);
            --border-color: #333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 0;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.3s, color 0.3s;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
        
        .header-subtitle {
            margin-top: 0.5rem;
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .platform-indicator {
            background: var(--telegram);
            color: white;
            padding: 0.3rem 0.6rem;
            font-size: 0.75rem;
            border-radius: 12px;
            margin-left: 0.5rem;
            display: inline-block;
            vertical-align: middle;
            font-weight: 500;
        }
        
        .container {
            max-width: 800px;
            padding: 0 1.5rem;
            margin: 0 auto;
            padding-bottom: 100px;
        }
        
        .version-badge {
            background: var(--warning);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            display: inline-block;
            margin-left: 0.5rem;
            vertical-align: middle;
        }
        
        /* Кнопка поиска */
        .search-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 90;
            transition: all 0.3s;
        }
        
        .search-btn:hover {
            transform: scale(1.1);
        }
        
        /* Модальное окно поиска */
        .search-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 200;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .search-modal.active {
            display: flex;
            opacity: 1;
        }
        
        .search-modal-content {
            background: var(--card-bg);
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 5px 30px rgba(0,0,0,0.3);
            transform: translateY(20px);
            transition: transform 0.3s;
        }
        
        .search-modal.active .search-modal-content {
            transform: translateY(0);
        }
        
        .search-modal-header {
            padding: 1rem;
            background: var(--primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .search-modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .search-modal-body {
            padding: 1rem;
        }
        
        .search-modal-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 1rem;
            background: var(--card-bg);
            color: var(--text-color);
        }
        
        .search-results {
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .search-result-item {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .search-result-item:hover {
            background: rgba(81, 129, 184, 0.1);
        }
        
        .search-result-category {
            font-size: 0.8rem;
            color: var(--primary);
            margin-bottom: 0.3rem;
        }
        
        .search-result-empty {
            padding: 2rem;
            text-align: center;
            color: var(--text-color);
            opacity: 0.7;
        }
        
        /* Основные стили */
        .intro-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: var(--card-shadow);
            border-left: 4px solid var(--info);
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        
        .intro-text {
            margin-bottom: 1rem;
            color: var(--text-color);
            opacity: 0.9;
        }
        
        .section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: var(--card-shadow);
            transition: background-color 0.3s, box-shadow 0.3s;
            position: relative;
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 1.2rem;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            scroll-margin-top: 120px;
        }
        
        h3 {
            margin: 1.5rem 0 0.8rem;
            color: var(--secondary);
            font-size: 1.2rem;
            padding-left: 0.5rem;
            border-left: 3px solid var(--secondary);
        }
        
        .command {
            background: var(--light);
            border-left: 4px solid var(--primary);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
            word-break: break-word;
            transition: all 0.3s ease;
        }
        
        .command:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .command-name {
            font-weight: 700;
            color: var(--dark);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .command-desc {
            margin-top: 0.5rem;
            color: var(--text-color);
            opacity: 0.9;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .command-usage {
            font-size: 0.85rem;
            color: var(--text-color);
            opacity: 0.8;
            margin-top: 0.3rem;
            font-style: italic;
        }
        
        .example {
            display: block;
            background: rgba(0,0,0,0.05);
            padding: 0.8rem 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 0.8rem 0;
            font-size: 0.9rem;
            width: 100%;
            overflow-x: auto;
            border-left: 3px solid var(--primary);
            color: var(--text-color);
            transition: background-color 0.3s;
        }
        
        .dark-mode .example {
            background: rgba(255,255,255,0.1);
        }
        
        .result {
            display: block;
            margin-top: 0.5rem;
            color: var(--success);
            font-style: italic;
            font-size: 0.9rem;
            padding-left: 1rem;
            border-left: 2px solid var(--success);
        }
        
        .note {
            background-color: rgba(255, 160, 0, 0.1);
            border-left: 4px solid var(--warning);
            padding: 0.8rem 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .dark-mode .note {
            background-color: rgba(255, 160, 0, 0.2);
        }
        
        .tip {
            background-color: rgba(33, 150, 243, 0.1);
            border-left: 4px solid var(--info);
            padding: 0.8rem 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .dark-mode .tip {
            background-color: rgba(33, 150, 243, 0.2);
        }
        
        .tab-container {
            display: flex;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            background: var(--card-bg);
            position: sticky;
            top: 60px;
            z-index: 90;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: background-color 0.3s;
        }
        
        .tab-container::-webkit-scrollbar {
            display: none;
        }
        
        .tab {
            padding: 1rem 1.2rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            font-size: 0.95rem;
            font-weight: 500;
            flex-shrink: 0;
            transition: all 0.2s;
            color: var(--text-color);
        }
        
        .tab:hover {
            background-color: rgba(81, 129, 184, 0.1);
        }
        
        .tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 0.8rem;
            font-size: 0.9rem;
            width: 100%;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .copy-btn:hover {
            background: #3a6ea5;
            transform: translateY(-2px);
        }
        
        .copy-btn:active {
            transform: translateY(0);
        }
        
        /* FAQ */
        .faq-item {
            margin-bottom: 0.5rem;
            border-radius: 8px;
            overflow: hidden;
            background: var(--light);
            transition: all 0.3s;
        }
        
        .dark-mode .faq-item {
            background: rgba(255,255,255,0.05);
        }
        
        .faq-question {
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }
        
        .faq-icon {
            transition: transform 0.3s;
        }
        
        .faq-answer {
            padding: 0 1rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        
        .faq-item.active .faq-answer {
            padding: 0 1rem 1rem;
            max-height: 500px;
        }
        
        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }
        
        .user-mention {
            color: var(--primary);
            font-weight: 500;
            background: rgba(81, 129, 184, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
        }
        
        footer {
            text-align: center;
            margin: 2rem 0;
            color: var(--text-color);
            opacity: 0.7;
            font-size: 0.85rem;
            padding: 0 1.5rem;
        }
        
        /* Виджет сообщений ВК */
        .vk-msg-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 999;
        }
        
        /* Сообщение о копировании */
        .copied-message {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 25px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.95rem;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .copied-message.visible {
            opacity: 1;
        }
        
        /* Кнопка переключения темы */
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
            transition: all 0.3s;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
        }
        
        .theme-toggle svg {
            width: 24px;
            height: 24px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .section, .intro-section {
                padding: 1.2rem;
            }
            
            h2 {
                font-size: 1.3rem;
            }
            
            .theme-toggle, .search-btn {
                width: 45px;
                height: 45px;
                bottom: 15px;
            }
            
            .search-btn {
                bottom: 75px;
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
    <body>
    <!-- Индикатор пользователя -->
    <div class="user-indicator" id="userIndicator">
        <span id="userNickDisplay"></span>
        <button onclick="logout()" style="margin-left: 10px; background: none; border: none; color: white; cursor: pointer;">✕</button>
    </div>

    <!-- Оверлей регистрации -->
    <div class="registration-overlay" id="registrationOverlay">
        <div class="registration-form">
            <h2>Регистрация</h2>
            <div class="form-group">
                <label for="regEmail">Email</label>
                <input type="email" id="regEmail" placeholder="Ваш email">
                <div class="error-message" id="emailError"></div>
            </div>
            <div class="form-group">
                <label for="regNickname">Никнейм</label>
                <input type="text" id="regNickname" placeholder="Ваш никнейм в системе">
                <div class="error-message" id="nicknameError"></div>
            </div>
            <div class="form-actions">
                <button class="btn-secondary" onclick="closeRegistration()">Отмена</button>
                <button class="btn-primary" onclick="registerUser()">Зарегистрироваться</button>
            </div>
        </div>
    </div>

    <!-- Все ваше существующее содержимое страницы остается здесь -->
    
    <script>
        // Система пользователя
        const userSystem = {
            currentUser: JSON.parse(localStorage.getItem('rpBotUser')) || null,
            
            register: function(email, nickname) {
                this.currentUser = {
                    email: email,
                    nickname: nickname,
                    registeredAt: new Date(),
                    notifications: []
                };
                localStorage.setItem('rpBotUser', JSON.stringify(this.currentUser));
                updateUserIndicator();
                addNotification(`Добро пожаловать, ${nickname}! Регистрация завершена.`);
            },
            
            logout: function() {
                this.currentUser = null;
                localStorage.removeItem('rpBotUser');
                updateUserIndicator();
                addNotification('Вы вышли из системы');
            },
            
            addNotification: function(text) {
                if (!this.currentUser) return;
                
                // Проверяем, нет ли уже такого уведомления
                const hasDuplicate = this.currentUser.notifications.some(
                    n => n.text === text && 
                    new Date().getTime() - new Date(n.time).getTime() < 86400000 // 1 день
                );
                
                if (!hasDuplicate) {
                    this.currentUser.notifications.unshift({
                        text: text,
                        time: new Date(),
                        read: false
                    });
                    
                    // Ограничиваем количество уведомлений
                    if (this.currentUser.notifications.length > 20) {
                        this.currentUser.notifications.pop();
                    }
                    
                    localStorage.setItem('rpBotUser', JSON.stringify(this.currentUser));
                    updateNotificationsUI();
                }
            },
            
            markAllAsRead: function() {
                if (!this.currentUser) return;
                
                this.currentUser.notifications.forEach(n => n.read = true);
                localStorage.setItem('rpBotUser', JSON.stringify(this.currentUser));
                updateNotificationsUI();
            }
        };

        // Обновление индикатора пользователя
        function updateUserIndicator() {
            const indicator = document.getElementById('userIndicator');
            const nickDisplay = document.getElementById('userNickDisplay');
            
            if (userSystem.currentUser) {
                nickDisplay.textContent = userSystem.currentUser.nickname;
                indicator.style.display = 'flex';
                
                // Проверяем, нужно ли показать приветственное уведомление
                const now = new Date();
                const registeredDate = new Date(userSystem.currentUser.registeredAt);
                const diffHours = (now - registeredDate) / (1000 * 60 * 60);
                
                if (diffHours < 1) { // Если регистрация была менее часа назад
                    userSystem.addNotification(`Добро пожаловать, ${userSystem.currentUser.nickname}!`);
                }
            } else {
                indicator.style.display = 'none';
            }
        }

        // Регистрация пользователя
        function registerUser() {
            const email = document.getElementById('regEmail').value.trim();
            const nickname = document.getElementById('regNickname').value.trim();
            const emailError = document.getElementById('emailError');
            const nicknameError = document.getElementById('nicknameError');
            
            // Валидация
            let isValid = true;
            
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.textContent = 'Пожалуйста, введите корректный email';
                emailError.style.display = 'block';
                isValid = false;
            } else {
                emailError.style.display = 'none';
            }
            
            if (nickname.length < 3 || nickname.length > 20) {
                nicknameError.textContent = 'Никнейм должен быть от 3 до 20 символов';
                nicknameError.style.display = 'block';
                isValid = false;
            } else {
                nicknameError.style.display = 'none';
            }
            
            if (isValid) {
                userSystem.register(email, nickname);
                closeRegistration();
            }
        }

        // Выход из системы
        function logout() {
            userSystem.logout();
        }

        // Открытие формы регистрации
        function openRegistration() {
            if (!userSystem.currentUser) {
                document.getElementById('registrationOverlay').style.display = 'flex';
            }
        }

        // Закрытие формы регистрации
        function closeRegistration() {
            document.getElementById('registrationOverlay').style.display = 'none';
        }

        // Обновление UI уведомлений
        function updateNotificationsUI() {
            if (!userSystem.currentUser) return;
            
            const unread = userSystem.currentUser.notifications.filter(n => !n.read).length;
            const badge = document.getElementById('notificationBadge');
            const body = document.getElementById('notificationBody');
            
            badge.style.display = unread ? 'flex' : 'none';
            badge.textContent = unread;
            
            body.innerHTML = userSystem.currentUser.notifications.length 
                ? userSystem.currentUser.notifications.map((n, index) => `
                    <div class="notification-item ${n.read ? '' : 'unread'}" onclick="markNotificationRead(${index})">
                        <div class="notification-text">${n.text}</div>
                        <div class="notification-time">${formatTime(n.time)}</div>
                    </div>
                `).join('')
                : '<div class="notification-item">Нет уведомлений</div>';
        }

        // Отметить уведомление как прочитанное
        function markNotificationRead(index) {
            if (userSystem.currentUser && userSystem.currentUser.notifications[index]) {
                userSystem.currentUser.notifications[index].read = true;
                localStorage.setItem('rpBotUser', JSON.stringify(userSystem.currentUser));
                updateNotificationsUI();
            }
        }

        // Добавить уведомление
        function addNotification(text) {
            if (userSystem.currentUser) {
                userSystem.addNotification(text);
            }
        }

        // Форматирование времени
        function formatTime(date) {
            const now = new Date();
            const diff = now - new Date(date);
            
            if (diff < 60000) return 'только что';
            if (diff < 3600000) return `${Math.floor(diff/60000)} мин. назад`;
            if (diff < 86400000) return `${Math.floor(diff/3600000)} ч. назад`;
            return new Date(date).toLocaleDateString();
        }

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            updateUserIndicator();
            updateNotificationsUI();
            
            // Обработчик кнопки уведомлений
            document.getElementById('notificationBtn').addEventListener('click', function() {
                document.getElementById('notificationMenu').classList.toggle('active');
                userSystem.markAllAsRead();
            });
            
            // Проверяем, нужно ли показать форму регистрации
            if (!userSystem.currentUser) {
                setTimeout(() => {
                    addNotification('Для доступа ко всем функциям, пожалуйста, зарегистрируйтесь');
                    setTimeout(openRegistration, 2000);
                }, 3000);
            }
        });
    </script>
<body>
    <!-- Кнопка переключения темы -->
    <button class="theme-toggle" id="themeToggle">
        <svg id="themeIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
    </button>

    <!-- Кнопка поиска -->
    <button class="search-btn" id="searchBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
    </button>

    <!-- Шапка сайта -->
    <header>
        <h1>🎭 РП Бот <span id="platformIndicator" class="platform-indicator">Telegram</span><span class="version-badge">v1.4</span></h1>
        <p class="header-subtitle">Полное руководство по всем командам и возможностям</p>
    </header>
    
    <!-- Навигационные вкладки -->
    <div class="tab-container">
        <div class="tab active" onclick="openTab('commands')">📋 Основные</div>
        <div class="tab" onclick="openTab('emotions')">🎭 Эмоции</div>
        <div class="tab" onclick="openTab('actions')">🤝 Действия</div>
        <div class="tab" onclick="openTab('news')">📰 Новости</div>
        <div class="tab" onclick="openTab('faq')">❓ FAQ</div>
    </div>
    
    <!-- Основное содержимое -->
    <div class="container">
        <div class="intro-section">
            <h2>👋 Добро пожаловать в руководство по РП боту v1.4</h2>
            <p class="intro-text">Это полное руководство по всем командам и возможностям бота для ролевых игр.</p>
            <p class="intro-text">Используйте кнопку поиска внизу экрана для быстрого поиска команд.</p>
        </div>
        
        <!-- Основные команды -->
        <div id="commands" class="tab-content active">
            <div class="section">
                <h2>📋 Основные команды</h2>
                <p>Эти команды позволяют настроить бота и управлять базовыми функциями.</p>
                
                <div class="command" data-category="Основные" data-search="start начало старт">
                    <div class="command-name">/start</div>
                    <div class="command-desc">Начальное приветствие и краткая инструкция по использованию бота. Показывает основные возможности и правила использования.</div>
                    <div id="vk-start-note" class="note" style="display: none;">
                        <strong>Примечание для ВКонтакте:</strong> В мобильном приложении VK вместо команды /start нужно нажать кнопку "Начать" в диалоге с ботом.
                    </div>
                </div>
                
                <div class="command" data-category="Основные" data-search="setnick установить ник смена ника nickname">
                    <div class="command-name">/setnick [никнейм]</div>
                    <div class="command-desc">Устанавливает ваш ролевой никнейм, который будет отображаться при использовании команд. Поддерживает любые языки.</div>
                    <div class="command-usage">Максимальная длина ника - 32 символа. Можно использовать пробелы и большинство специальных символов.</div>
                    <span class="example">/setnick Тёмный_Лорд</span>
                    <span class="result">→ Ваш ник успешно установлен: Тёмный_Лорд</span>
                    <button class="copy-btn" onclick="copyToClipboard('/setnick ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="command" data-category="Основные" data-search="nick никнейм текущий ник мой ник">
                    <div class="command-name">/nick</div>
                    <div class="command-desc">Показывает ваш текущий установленный никнейм. Если ник не установлен, будет показано ваше имя из профиля.</div>
                    <span class="example">/nick</span>
                    <span class="result">→ Ваш текущий ник: Тёмный_Лорд</span>
                    <button class="copy-btn" onclick="copyToClipboard('/nick')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="command" data-category="Основные" data-search="commands команды список команд помощь help">
                    <div class="command-name">/commands</div>
                    <div class="command-desc">Показывает список всех доступных команд бота с краткими описаниями.</div>
                    <button class="copy-btn" onclick="copyToClipboard('/commands')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="tip">
                    💡 <strong>Совет:</strong> Вы можете в любой момент изменить свой никнейм, просто снова используя команду /setnick. Старый ник будет автоматически заменён на новый.
                </div>
            </div>
        </div>
        
        <!-- Эмоции -->
        <div id="emotions" class="tab-content">
            <div class="section">
                <h2>🎭 Эмоции и жесты</h2>
                <p>Эти префиксы позволяют выражать эмоции и настроение вашего персонажа. Добавьте их в начало сообщения.</p>
                
                <div class="command" data-category="Эмоции" data-search="!!!! крик кричать громко важно">
                    <div class="command-name">!!!!</div>
                    <div class="command-desc">Используется для громких, важных или эмоциональных сообщений. Показывает, что ваш персонаж кричит или говорит очень выразительно.</div>
                    <span class="example">!!!! Внимание всем жителям замка!</span>
                    <span class="result">→ Тёмный_Лорд (❗ говорит что-то важное): Внимание всем жителям замка!</span>
                    <div class="note">
                        <strong>Примечание:</strong> Не злоупотребляйте этой эмоцией, чтобы не создавать лишнего шума в чате.
                    </div>
                    <button class="copy-btn" onclick="copyToClipboard('!!!! ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="???? вопрос вопрос недоумение">
                    <div class="command-name">????</div>
                    <div class="command-desc">Показывает, что ваш персонаж задаёт вопрос или выражает недоумение. Отлично подходит для диалогов.</div>
                    <span class="example">???? Что это было?</span>
                    <span class="result">→ Светлый_Маг (❓ задаёт вопрос): Что это было?</span>
                    <button class="copy-btn" onclick="copyToClipboard('???? ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="^^^^ радость рад счастье восторг">
                    <div class="command-name">^^^^</div>
                    <div class="command-desc">Выражает радость, восторг или волнение. Показывает, что ваш персонаж счастлив или взволнован.</div>
                    <span class="example">^^^^ Наконец-то ты вернулся!</span>
                    <span class="result">→ Весёлый_Гном (☺ рад): Наконец-то ты вернулся!</span>
                    <button class="copy-btn" onclick="copyToClipboard('^^^^ ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="//// смущение смущен стыд стыдно">
                    <div class="command-name">////</div>
                    <div class="command-desc">Показывает смущение, застенчивость или неловкость персонажа.</div>
                    <span class="example">//// *краснеет* Я не знаю что сказать...</span>
                    <span class="result">→ Скромница (😳 смущён): *краснеет* Я не знаю что сказать...</span>
                    <button class="copy-btn" onclick="copyToClipboard('//// ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="++++ одобрение согласие поддержка да">
                    <div class="command-name">++++</div>
                    <div class="command-desc">Выражает одобрение, согласие или поддержку.</div>
                    <span class="example">++++ Это отличная идея!</span>
                    <span class="result">→ Оптимист (👍 одобряет): Это отличная идея!</span>
                    <button class="copy-btn" onclick="copyToClipboard('++++ ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="---- несогласие отказ отрицание нет">
                    <div class="command-name">----</div>
                    <div class="command-desc">Выражает несогласие, отказ или отрицание.</div>
                    <span class="example">---- Я не согласен с этим!</span>
                    <span class="result">→ Скептик (👎 отрицает): Я не согласен с этим!</span>
                    <button class="copy-btn" onclick="copyToClipboard('---- ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search=">>>> срочно важно горячность горячо">
                    <div class="command-name">>>>></div>
                    <div class="command-desc">Показывает срочность, важность или горячность сообщения.</div>
                    <span class="example">>>>> Нам нужно действовать сейчас же!</span>
                    <span class="result">→ Лидер (🔥 говорит что-то срочное): Нам нужно действовать сейчас же!</span>
                    <button class="copy-btn" onclick="copyToClipboard('>>>> ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="<<<< усталость устал сонливость спать">
                    <div class="command-name"><<<<</div>
                    <div class="command-desc">Выражает усталость, сонливость или отсутствие энергии.</div>
                    <span class="example"><<<< *зевает* Я так устал...</span>
                    <span class="result">→ Усталый_Путник (😴 устал): *зевает* Я так устал...</span>
                    <button class="copy-btn" onclick="copyToClipboard('<<<< ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="command" data-category="Эмоции" data-search="** действие действия описание звездочки">
                    <div class="command-name">**действие</div>
                    <div class="command-desc">Позволяет описать действие вашего персонажа. Текст будет выделен жирным.</div>
                    <span class="example">**достаёт меч из ножен</span>
                    <span class="result">→ Воин: <b>достаёт меч из ножен</b></span>
                    <button class="copy-btn" onclick="copyToClipboard('** ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать префикс
                    </button>
                </div>
                
                <div class="tip">
                    💡 <strong>Совет:</strong> Вы можете комбинировать префиксы с обычным текстом для более выразительной ролевой игры. Например: "???? .... Что это за странный звук?"
                </div>
            </div>
        </div>
        
        <!-- Действия -->
        <div id="actions" class="tab-content">
            <div class="section">
                <h2>🤝 Взаимодействия между персонажами</h2>
                <p>Эти команды позволяют вашим персонажам взаимодействовать друг с другом в ролевой игре.</p>
                
                <div class="command" data-category="Действия" data-search="hug обнять объятия обнимашки">
                    <div class="command-name">/hug [ник]</div>
                    <div class="command-desc">Ваш персонаж обнимает другого персонажа. Можно использовать как для дружеских, так и для более эмоциональных объятий.</div>
                    <div class="command-usage">Можно добавить описание после ника, например: /hug Друг сильно</div>
                    <span class="example">/hug Светлый_Маг</span>
                    <span class="result">→ Тёмный_Лорд крепко обнимает Светлого_Мага, показывая неожиданную нежность</span>
                    <button class="copy-btn" onclick="copyToClipboard('/hug ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="command" data-category="Действия" data-search="slap пощечина ударить шлепнуть бить">
                    <div class="command-name">/slap [ник]</div>
                    <div class="command-desc">Ваш персонаж даёт пощечину другому персонажу. Используется для выражения гнева, раздражения или как шутливый жест.</div>
                    <div class="command-usage">Можно указать причину: /slap Наглец за грубость</div>
                    <span class="example">/slap Наглый_Вор</span>
                    <span class="result">→ Светлый_Маг с силой бьёт Наглого_Вора по щеке, негодуя от его последних слов</span>
                    <div class="note">
                        <strong>Примечание:</strong> Пожалуйста, используйте эту команду только в рамках ролевой игры и с согласия других участников.
                    </div>
                    <button class="copy-btn" onclick="copyToClipboard('/slap ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="command" data-category="Действия" data-search="kiss поцеловать поцелуй чмок любовь">
                    <div class="command-name">/kiss [ник]</div>
                    <div class="command-desc">Ваш персонаж целует другого персонажа. Можно использовать для романтических или дружеских поцелуев.</div>
                    <div class="command-usage">Можно уточнить куда: /kiss Возлюбленная в щёчку</div>
                    <span class="example">/kiss Возлюбленная</span>
                    <span class="result">→ Романтик нежно целует Возлюбленную, глядя ей в глаза</span>
                    <button class="copy-btn" onclick="copyToClipboard('/kiss ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="command" data-category="Действия" data-search="punch удар кулак драка пунш">
                    <div class="command-name">/punch [ник]</div>
                    <div class="command-desc">Ваш персонаж бьёт другого персонажа кулаком. Используется для драк или жёстких взаимодействий.</div>
                    <div class="command-usage">Можно указать куда: /punch Злодей в живот</div>
                    <span class="example">/punch Злодей</span>
                    <span class="result">→ Боец со всей силы бьёт Злодея кулаком в лицо</span>
                    <div class="note">
                        <strong>Важно:</strong> Используйте эту команду только в рамках ролевой игры и с согласия других участников.
                    </div>
                    <button class="copy-btn" onclick="copyToClipboard('/punch ')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Копировать команду
                    </button>
                </div>
                
                <div class="tip">
                    💡 <strong>Совет:</strong> Вы можете добавлять к командам описания, чтобы сделать взаимодействия более выразительными. Например: "/hug Друг крепко, радуясь встрече"
                </div>
            </div>
        </div>
        
        <!-- Новости -->
        <div id="news" class="tab-content">
            <div class="section">
                <h2>📰 Последние новости и обновления</h2>
                
                <div class="news-item">
                    <h3>Версия 1.4 — Новые эмоции и команды</h3>
                    <p class="news-date">15 октября 2023</p>
                    <p>Мы рады представить новое обновление бота, которое включает:</p>
                    <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                        <li>3 новых эмоциональных префикса: <code>++++</code>, <code>----</code> и <code>>>></code></li>
                        <li>Команды взаимодействия между персонажами: <code>/hug</code>, <code>/slap</code>, <code>/kiss</code></li>
                        <li>Улучшенную систему ников (до 32 символов)</li>
                        <li>Исправление мелких ошибок</li>
                    </ul>
                </div>
                
                <div class="news-item">
                    <h3>Обновление системы ников</h3>
                    <p class="news-date">5 октября 2023</p>
                    <p>Теперь ники могут содержать до 32 символов и поддерживают больше специальных символов. Также исправлена проблема с отображением ников в мобильных приложениях.</p>
                </div>
                
                <div class="news-item">
                    <h3>Запуск бота в Telegram</h3>
                    <p class="news-date">28 сентября 2023</p>
                    <p>Наш бот теперь официально доступен в Telegram! Вы можете найти его по имени <code>(пока что не опубликован в общий доступ)</code> или через поиск по названию "".</p>
                </div>
            </div>
        </div>
        
        <!-- FAQ -->
        <div id="faq" class="tab-content">
            <div class="section">
                <h2>❓ Часто задаваемые вопросы</h2>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Как установить или изменить никнейм?</span>
                        <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Для установки или изменения никнейма используйте команду <code>/setnick [ваш_ник]</code>. Например:</p>
                        <span class="example">/setnick Тёмный_Лорд</span>
                        <p>Никнейм может содержать до 32 символов, включая пробелы и большинство специальных символов.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Как обратиться к другому игроку?</span>
                        <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Для обращения к другому игроку просто используйте его никнейм. Например:</p>
                        <span class="example">???? Светлый_Маг, что это было?</span>
                        <p class="note"><strong>Примечание:</strong> Упоминать можно только игроков, которые уже установили свой никнейм с помощью команды <code>/setnick</code>.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Почему моя команда не работает?</span>
                        <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Возможные причины:</p>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li>Вы не установили никнейм (используйте <code>/setnick</code>)</li>
                            <li>Команда содержит ошибки (проверьте правильность написания)</li>
                            <li>Вы пытаетесь упомянуть игрока, которого нет в базе</li>
                            <li>Бот временно недоступен (попробуйте позже)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Как узнать список всех команд?</span>
                        <svg class="faq-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Вы можете просмотреть все команды:</p>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li>В этом руководстве (разделы "Основные", "Эмоции", "Действия")</li>
                            <li>Отправив команду <code>/commands</code> в чате с ботом</li>
                            <li>Используя функцию поиска (кнопка 🔍 в правом нижнем углу)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        РП Бот • Версия 1.4 • © 2023 Все права защищены
    </footer>
    
    <!-- Модальное окно поиска -->
    <div class="search-modal" id="searchModal">
        <div class="search-modal-content">
            <div class="search-modal-header">
                <h3>🔍 Поиск по командам</h3>
                <button class="search-modal-close" onclick="closeSearchModal()">&times;</button>
            </div>
            <div class="search-modal-body">
                <input type="text" class="search-modal-input" id="searchModalInput" placeholder="Введите название команды или ключевое слово...">
                <div class="search-results" id="searchResults">
                    <div class="search-result-empty">Начните вводить запрос для поиска команд</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Виджет сообщений ВК -->
    <div id="vk_community_messages" class="vk-msg-widget"></div>
    
    <!-- Сообщение о копировании -->
    <div id="copiedMessage" class="copied-message">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 6L9 17l-5-5"></path>
        </svg>
        Скопировано в буфер обмена!
    </div>
    
    <script>
        // База данных пользователей (пример)
        const userDatabase = {
            "Светлый_Маг": true,
            "Тёмный_Лорд": true,
            "Весёлый_Гном": true,
            "Скромница": true,
            "Романтик": true,
            "Боец": true,
            "Лидер": true,
            "Усталый_Путник": true,
            "Оптимист": true,
            "Скептик": true
        };
        
        // Определение платформы
        function detectPlatform() {
            // Для ВКонтакте
            if (typeof VK !== 'undefined' && VK.WebApp) {
                document.getElementById('platformIndicator').textContent = 'VK';
                document.getElementById('platformIndicator').style.backgroundColor = '#5181B8';
                document.getElementById('vk-start-note').style.display = 'block';
                VK.WebApp.init();
                return 'vk';
            }
            // Для Telegram
            else if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
                Telegram.WebApp.setHeaderColor('#2AABEE');
                Telegram.WebApp.setBackgroundColor('#F9F9F9');
                Telegram.WebApp.MainButton.hide();
                return 'telegram';
            }
            // Для браузера
            else {
                return 'web';
            }
        }
        
        // Переключение вкладок
        function openTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const tabButtons = document.querySelectorAll('.tab');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            window.scrollTo(0, 0);
        }
        
        // Копирование текста
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showCopiedMessage();
            }).catch(err => {
                console.error('Не удалось скопировать: ', err);
            });
        }
        
        // Показать сообщение о копировании
        function showCopiedMessage() {
            const msg = document.getElementById('copiedMessage');
            msg.classList.add('visible');
            setTimeout(() => {
                msg.classList.remove('visible');
            }, 2000);
        }
        
        // Инициализация виджета ВК
        function initVKWidget() {
            if (typeof VK === 'undefined') {
                const script = document.createElement('script');
                script.src = 'https://vk.com/js/api/openapi.js?169';
                script.async = true;
                script.onload = function() {
                    VK.init({apiId: 1234567}); // Замените на ваш API ID
                    createVKWidget();
                };
                document.body.appendChild(script);
            } else {
                createVKWidget();
            }
        }
        
        // Создание виджета сообщений
        function createVKWidget() {
            VK.Widgets.CommunityMessages("vk_community_messages", 229888170, {
                expandTimeout: 5000,
                widgetPosition: "right",
                disableExpandChatSound: "1",
                tooltipButtonText: "Написать нам",
                buttonType: "blue_circle"
            });
        }
        
        // Переключение темы
        function toggleTheme() {
            const body = document.body;
            body.classList.toggle('dark-mode');
            
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            
            // Изменение иконки
            const themeIcon = document.getElementById('themeIcon');
            if (isDark) {
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
            } else {
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
            }
        }
        
        // Проверка сохраненной темы
        function checkSavedTheme() {
            const savedTheme = localStorage.getItem('darkMode');
            if (savedTheme === 'true') {
                document.body.classList.add('dark-mode');
                const themeIcon = document.getElementById('themeIcon');
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
            }
        }
        
        // Поиск команд
        function searchCommands() {
            const searchTerm = document.getElementById('searchModalInput').value.toLowerCase().trim();
            const resultsContainer = document.getElementById('searchResults');
            
            if (!searchTerm) {
                resultsContainer.innerHTML = '<div class="search-result-empty">Начните вводить запрос для поиска команд</div>';
                return;
            }
            
            const commands = document.querySelectorAll('.command');
            let foundCount = 0;
            let resultsHTML = '';
            
            commands.forEach(cmd => {
                const searchData = cmd.getAttribute('data-search').toLowerCase();
                const category = cmd.getAttribute('data-category');
                const name = cmd.querySelector('.command-name').textContent;
                const desc = cmd.querySelector('.command-desc').textContent;
                
                if (searchData.includes(searchTerm) || name.toLowerCase().includes(searchTerm) || desc.toLowerCase().includes(searchTerm)) {
                    foundCount++;
                    resultsHTML += `
                        <div class="search-result-item" onclick="scrollToCommand('${cmd.id || ''}')">
                            <div class="search-result-category">${category}</div>
                            <div style="font-weight: 600;">${name}</div>
                            <div style="font-size: 0.9rem; opacity: 0.8;">${desc}</div>
                        </div>
                    `;
                }
            });
            
            if (foundCount > 0) {
                resultsContainer.innerHTML = resultsHTML;
            } else {
                resultsContainer.innerHTML = '<div class="search-result-empty">Ничего не найдено. Попробуйте другой запрос.</div>';
            }
        }
        
        // Прокрутка к команде
        function scrollToCommand(cmdId) {
            if (cmdId) {
                const element = document.getElementById(cmdId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    element.style.animation = 'highlight 1.5s';
                    setTimeout(() => {
                        element.style.animation = '';
                    }, 1500);
                }
            }
            closeSearchModal();
        }
        
        // Открытие модального окна поиска
        function openSearchModal() {
            document.getElementById('searchModal').classList.add('active');
            document.getElementById('searchModalInput').focus();
        }
        
        // Закрытие модального окна поиска
        function closeSearchModal() {
            document.getElementById('searchModal').classList.remove('active');
            document.getElementById('searchModalInput').value = '';
            document.getElementById('searchResults').innerHTML = '<div class="search-result-empty">Начните вводить запрос для поиска команд</div>';
        }
        
        // Управление FAQ
        function toggleFaq(element) {
            const item = element.closest('.faq-item');
            item.classList.toggle('active');
        }
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            const platform = detectPlatform();
            
            // Инициализируем виджет ВК для всех платформ
            initVKWidget();
            
            // Проверяем сохраненную тему
            checkSavedTheme();
            
            // Назначаем обработчики для кнопок
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('searchBtn').addEventListener('click', openSearchModal);
            
            // Назначаем обработчик для поиска
            document.getElementById('searchModalInput').addEventListener('input', searchCommands);
            
            // Адаптация под мобильные устройства
            if (window.innerWidth < 768) {
                document.body.style.fontSize = '15px';
            }
            
            // Добавляем анимацию для highlight
            const style = document.createElement('style');
            style.textContent = `
                @keyframes highlight {
                    0% { background-color: rgba(81, 129, 184, 0.1); }
                    100% { background-color: transparent; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
                       </style>

<button class="notification-btn" id="notificationBtn">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
    </svg>
    <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
</button>

<div class="notification-menu" id="notificationMenu">
    <div class="notification-body" id="notificationBody">
        <div class="notification-item">Нет новых уведомлений</div>
    </div>
</div>

<script>
</body>
</html>
